<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="asset/css/index.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { getFirestore, collection, query, orderBy } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";
        import { addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyBKJmmjsmrWJE7Cz_o12WwCSuLpjNaOmuE",
          authDomain: "team-blush.firebaseapp.com",
          projectId: "team-blush",
          storageBucket: "team-blush.appspot.com",
          messagingSenderId: "487722864962",
          appId: "1:487722864962:web:38c9f227485fb85ea9f8db",
          measurementId: "G-CQCWETGCEF"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // DateToString function
        function date2String(date) {
            const newDate = new Date(date * 1000)
            
            const yy = newDate.getFullYear();
            const mm = (newDate.getMonth() + 1).toString().padStart(2, '0')
            const dd = newDate.getDate().toString().padStart(2, '0');

            const hh = newDate.getHours().toString().padStart(2, '0');
            const MM = newDate.getMinutes().toString().padStart(2, '0');
            const ss = newDate.getSeconds().toString().padStart(2, '0');
            
            return `${yy}-${mm}-${dd} ${hh}:${MM}:${ss}`;
        }

        // comment read
        const commentsQuery = query(collection(db, "comments"), orderBy('date', 'desc'))
        const comments = await getDocs(commentsQuery);

        comments.forEach(e => {
            const { comment, date } = e.data();
            const strDate = date2String(date.seconds)
            
            $('.comment-body').append(`<div class="comment-row">
                ${comment}
                <span>${strDate}</span>
            </div>
            `);
        });

        // comment write
        async function writeFirestore() {
            const comment = $("input[name=comment]").val();
            const doc = { comment, date: new Date() };
            
            await addDoc(collection(db, "comments"), doc);

            window.location.reload();
        }

        $('.comment-content-wrap button').click(writeFirestore)
        $('.comment-content-wrap input[name=comment]').keydown(function(e) {
            if (e.keyCode == 13) {
                writeFirestore()
            }
        })

        // nav top event
        $("li.nav-item").click(async function (e) {
            $('a.nav-item,.active').addClass('link-dark');
            $('a.nav-item,.active').removeClass('active');

            $(e.target).addClass('active');
            $(e.target).addClass('link-danger');
            $(e.target).removeClass('link-dark');

            const key = $(e.target).attr('key');
            $('.content-wrap div').css('display', 'none');

            switch (key) {
                case 'introduce-team':
                    $('#introduce-team').css('display', 'block');
                    break;

                case 'team-rule':
                    $('#team-rule').css('display', 'block');
                    break;

                case 'member-tmi':
                    $('#member-tmi').css('display', 'block');
                    break;

                default:
                    $('#introduce-project').css('display', 'block');
            }
        })
      </script>

    <script type="module">
        
    </script>
    <title>í™ì¡° : ë¶€ë„ëŸ¬ì›€ì´ ë§ì€ ì•„ì´(I)ë“¤</title>
</head>

<body>
    <div class="main-wrap">
        <header>
            <img src="asset/img/blush_background.png">
            <div class="top-nav-wrap">
                <h3>ë¶€ë„ëŸ¬ì›€ì´ ë§ì€ ì•„ì´(I)ë“¤...</h3>
                <h1><span>*</span>í™ ì¡°<span>*</span></h1>
                <nav>
                    <ul class="nav nav-underline justify-content-center">
                        <li class="nav-item">
                            <a class="link-danger nav-link active" aria-current="page" href="#"
                                key="introduce-project">í”„ë¡œì íŠ¸ ì†Œê°œ</a>
                        </li>
                        <li class="nav-item">
                            <a class="link-dark nav-link " href="#" key="introduce-team">íŒ€ ì†Œê°œ</a>
                        </li>
                        <li class="nav-item">
                            <a class="link-dark nav-link" href="#" key="team-rule">íŒ€ ê·œì¹™</a>
                        </li>
                        <li class="nav-item">
                            <a class="link-dark nav-link" href="#" key="member-tmi">TMI</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <div class="content-wrap">
            <div id="introduce-project" aria-hidden="false">
                íŒ€ì›ì— ëŒ€í•´ì„œ ìì„¸íˆ ì•Œì•„ë³´ê³ , íŒ€ì˜ ì¶”êµ¬í•˜ëŠ” ëª©í‘œì™€ í˜‘ì—… ìŠ¤íƒ€ì¼ì„ ì •ì˜í•˜ê³ ì í•©ë‹ˆë‹¤.
            </div>
            <div id="introduce-team" style="display: none;">
                ë¶€ë„ëŸ¬ì›€ì´ ë§ì€ ì•„ì´(I)ë“¤ì´ë¼ ë¶€ë„ëŸ¬ì›€ì´ ë§ìŠµë‹ˆë‹¤.
            </div>
            <div id="team-rule" style="display: none;">
                <p>ê¸°ë¡ë‚¨ê¸°ê¸° : <span>ëŒ€ë¶€ë¶„ì˜ íˆìŠ¤í† ë¦¬ë¥¼ ë…¸ì…˜ì— ë¬¸ì„œë¡œ ë‚¨ê¸°ì</span></p>
                <p>ê³µìœ í•˜ê¸° : <span>ì ì‹¬ & ì €ë…í›„ 30ë¶„ë™ì•ˆ ì§„í–‰ìƒí™©ì„ ê³µìœ í•˜ì</span></p>
                <p>í”¼ë“œë°±í•˜ê¸° : <span>ì ê·¹ì ìœ¼ë¡œ í”¼ë“œë°±í•˜ì—¬ íŒ€ì›ì˜ ì„±ì¥ì„ ë•ì</span></p>
                <p>ë¬¼ì–´ë³´ê¸° : <span>ëª¨ë¥´ëŠ” ê²Œ ìˆìœ¼ë©´ ì ê·¹ì ìœ¼ë¡œ ë¬¼ì–´ë³´ì</span></p>
                <p>ê¾¸ì¤€í•˜ê²Œ í•˜ê¸° : <span>ë§¤ì¼ TILì„ ì ìœ¼ë©° ìˆ˜ë£Œê¹Œì§€ í¬ê¸°í•˜ì§€ ì•Šê³  ì—´ì‹¬íˆ í•˜ì</span></p>
            </div>
            <div id="member-tmi" style="display: none;">
                <p>ì¥ì¤€ìš© :</p>
                <p>í—ˆí›ˆ : <span>ê°•ì•„ì§€ğŸ¶ í‚¤ìš°ê³  ìˆì–´ìš”</span></p>
                <p>ì´ìœ¨ : <span>ê³ ì–‘ì´ ì¢‹ì•„ìš”</span></p>
                <p>ì´ìš©í›ˆ : <span>ëˆê°€ì¸ ì— ì§„ì‹¬ì…ë‹ˆë‹¤.</span></p>
            </div>
        </div>
        <div class="card-wrap">
            <div class="card-row">
                <a href="#" style="text-decoration:none">
                    <div class="card-cell">
                        <img src="asset/img/unknown.jpg" class="card-img-top" alt="...">
                        <div class="card-content">
                            <h2>ì¥ì¤€ìš©<span>(íŒ€ì¥)</span></h2>
                            <p>ISTJ, ê°„ë‹¨í•œ ìê¸°ì†Œê°œì…ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </a>
                <a href="#">
                    <div class="card-cell">
                        <img src="asset/img/unknown.jpg" class="card-img-top" alt="...">
                        <div class="card-content">
                            <h2>ì´ìœ¨<span>(íŒ€ì›)</span></h2>
                            <p>INTP, ê°„ë‹¨í•œ ìê¸°ì†Œê°œì…ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="card-row">
                <a href="#" style="text-decoration:none">
                    <div class="card-cell">
                        <img src="asset/img/unknown.jpg" class="card-img-top" alt="...">
                        <div class="card-content">
                            <h2>í—ˆí›ˆ<span>(íŒ€ì›)</span></h2>
                            <p>INTJ, ê°„ë‹¨í•œ ìê¸°ì†Œê°œì…ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </a>
                <a href="#">
                    <div class="card-cell">
                        <img src="asset/img/unknown.jpg" class="card-img-top" alt="...">
                        <div class="card-content">
                            <h2>ì´ìš©í›ˆ<span>(íŒ€ì›)</span></h2>
                            <p>INFJ, ê°„ë‹¨í•œ ìê¸°ì†Œê°œì…ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <div class="comment-wrap">
            <div class="comment-body"></div>
                <div class="comment-input-wrap">
                    <div class="comment-content-wrap">
                        <input class="form-control" type="text" name="comment">
                        <button type="button" class="btn btn-light">ë‚¨ê¸°ê¸°</button>
                    </div>
                </div>
        </div>
    </div>
    <footer>
        <p>ì €ì : í™ì¡°(Team blush)</p>
        <p>ì´ë©”ì¼ : admin@team.blush</p>
        <p>Copyright 2023. Team blush. All Rights Reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>
</body>

</html>